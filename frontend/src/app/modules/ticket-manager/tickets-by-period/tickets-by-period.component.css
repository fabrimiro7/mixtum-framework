/* --- Bottoni header --- */
#btnFull { width: 100%; vertical-align: middle; margin: 0; }
#btn { margin: 0; }

/* --- Titolo cliccabile --- */
#title { cursor: pointer; }

/* --- Chip filter --- */
.mat-chip-list { display: flex; justify-content: flex-start; margin-bottom: 10px; }
.mat-chip {
  margin-right: 10px; border-radius: 5px; padding: 10px 15px;
  font-size: 14px; font-weight: 600; cursor: pointer;
  color: var(--ed-blue) !important; background-color: var(--ed-white) !important;
}
.mat-chip.selected,
.mat-chip:hover { background-color: var(--ed-blue) !important; color: var(--ed-white) !important; }

/* --- Tabella: spacing comodo --- */
.comfortable-table .mat-header-cell,
.comfortable-table .mat-cell { padding: 12px 20px; vertical-align: middle; }
/* Per Angular Material MDC */
:host ::ng-deep .comfortable-table .mat-mdc-header-cell,
:host ::ng-deep .comfortable-table .mat-mdc-cell { padding: 12px 20px; }

/* --- Larghezze utili --- */
.mat-column-id { width: 90px; white-space: nowrap; }
.mat-column-client { width: 180px; white-space: nowrap; }
.mat-column-status { width: 160px; white-space: nowrap; }
.mat-column-priority { width: 120px; white-space: nowrap; }
.mat-column-assignee { width: 110px; }
.mat-column-date { width: 180px; white-space: nowrap; }
.mat-column-action { width: 64px; text-align: right; }
.mat-column-title { width: auto; }

/* --- Titolo + sottotitolo progetto --- */
.title-wrap { display: flex; flex-direction: column; gap: 2px; line-height: 1.2; }
.title-main { color: var(--ed-blue-dark); font-weight: 600; }
.title-sub { font-size: 12px; color: #6b7280; } /* grigio neutro */

/* --- Riga con messaggi non letti --- */
.row-unread { background-color: rgba(184, 238, 56, 0.15) !important; }

/* --- Azioni --- */
.action-cell { text-align: right; }

/* --- Stato: puntino + colori --- */
.status-dot { width: 10px; height: 10px; border-radius: 50%; display: inline-block; margin-right: 8px; }
.status-open { background-color: var(--ed-green); }
.status-in-progress { background-color: var(--ed-purple); }
.status-resolved { background-color: var(--ed-blue-light); }
.status-closed { background-color: var(--ed-red); }

/* --- Priorit√† (badge) --- */
.high-priority,
.medium-priority,
.low-priority {
  font-weight: bold; font-size: 12px; padding: 2px 6px; border-radius: 5px;
  display: inline-block; text-align: center; margin-right: 10px; border: 1px solid transparent;
}
.high-priority { color: var(--ed-red); background-color: #f1c5c2; border-color: var(--ed-red); }
.medium-priority { color: #eeba00; background-color: #f1e3c2; border-color: #eeba00; }
.low-priority { color: var(--ed-green); background-color: #c2f1cb; border-color: var(--ed-green); }

/* --- Assegnatario (avatar) --- */
.assignee-cell { display: flex; align-items: center; gap: 6px; }
.avatar { width: 32px; height: 32px; border-radius: 50%; object-fit: cover; background: #e6e6e6; }
.avatar.initials {
  width: 32px; height: 32px; border-radius: 50%; display: inline-flex;
  align-items: center; justify-content: center; font-weight: 600; font-size: 12px; color: #333;
}
.more-count {
  min-width: 22px; height: 22px; padding: 0 6px; border-radius: 999px; font-size: 11px; font-weight: 600;
  display: inline-flex; align-items: center; justify-content: center; background: #f1f1f1;
}

/* --- Mobile card --- */
.mobile { margin: 20px 0 0; padding-left: 0; padding-right: 0; }
.ed-block-standard { margin-bottom: 15px; }
.mobile-card { padding: 12px; border: 0px solid #eee; border-radius: 10px; background: #fff; }
.mobile-header { display: flex; align-items: center; justify-content: space-between; gap: 12px; }
.mobile-title { cursor: pointer; flex: 1; }
.mobile-meta { display: flex; align-items: center; gap: 8px; margin-top: 8px; }
.mobile-status { font-size: 13px; color: #374151; }
.mobile-priority { font-size: 12px; }
.mobile-row { display: flex; justify-content: left; margin-top: 6px; font-size: 13px; }
.mobile-label { color: #6b7280; }
.mobile-value { color: #111827; margin-left: 3px; }

h5 { color: var(--ed-blue-dark); }
#dx { padding-right: 0; justify-self: end; }
.row { display: flex; }

@media (max-width: 767px) {
  #btn { width: 100%; margin-bottom: 15px; }
  .ed-block-standard { margin: 0 0 15px; }
}

/* =========================================================
   AGGIUNTE per "ticket_type" + mini card totali (no override)
   ========================================================= */

/* Larghezza colonna tipo (facoltativa, non confligge) */
.mat-column-ticket_type { width: 140px; white-space: nowrap; }

/* Spazio a sinistra di piccoli badge/testi quando serve */
.ml-1 { margin-left: 4px; }

/* Badge di conteggio nei chip (es: "(12)") */
.chip-badge {
  font-weight: 600;
  font-size: 12px;
  opacity: .9;
}

/* Badge per tipo ticket (Bug / Features / Evolutiva) */
.type-badge {
  display: inline-block;
  padding: 2px 8px;
  border-radius: 999px;
  font-size: 12px;
  line-height: 1.2;
  font-weight: 600;
  vertical-align: middle;
  border: 1px solid transparent;
}
.type-bug {
  background: rgba(220,53,69,.1);
  color: #b21f2d;
  border-color: rgba(220,53,69,.3);
}
.type-feature {
  background: rgba(32,111,191,.1);
  color: #206fbf;
  border-color: rgba(32,111,191,.3);
}
.type-evolutiva {
  background: rgba(25,135,84,.12);
  color: #198754;
  border-color: rgba(25,135,84,.35);
}
.type-check {
  background: rgba(255,193,7,.12);
  color: #d39e00;
  border-color: rgba(255,193,7,.35);
}
.type-aggiornamento {
  background: rgba(108,117,125,.12);
  color: #495057;
  border-color: rgba(108,117,125,.35);
}
.type-unknown {
  background: rgba(108,117,125,.1);
  color: #495057;
  border-color: rgba(108,117,125,.3);
}

.payment-badge {
  display: inline-block;
  padding: 2px 8px;
  border-radius: 999px;
  font-size: 12px;
  line-height: 1.2;
  font-weight: 600;
  vertical-align: middle;
  border: 1px solid transparent;
}
.payment-paid {
  background: rgba(25,135,84,.12);
  color: #198754;
  border-color: rgba(25,135,84,.35);
}
.payment-unpaid {
  background: rgba(220,53,69,.12);
  color: #b21f2d;
  border-color: rgba(220,53,69,.35);
}

.priority-badge {
  display: inline-block;
  padding: 2px 8px;
  border-radius: 999px;
  font-size: 12px;
  line-height: 1.2;
  font-weight: 600;
  vertical-align: middle;
  border: 1px solid transparent;
}

/* MINI CARD: totali periodo selezionato */
.totals-card {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  padding: 14px 16px;
  border-radius: 14px;
  background: #ffffff;
  box-shadow: 0 4px 14px rgba(17,24,39,.06);
  border: 1px solid #eef2f7;
}
.totals-left .tot-title { font-weight: 700; color: var(--ed-blue-dark, #111827); }
.totals-left .tot-subtitle { font-size: 12px; color: #6b7280; margin-top: 2px; }
.totals-right { display: flex; gap: 16px; flex-wrap: wrap; }
.tot-item { min-width: 160px; }
.tot-label { font-size: 12px; color: #6b7280; }
.tot-value { font-size: 18px; font-weight: 800; color: var(--ed-blue-dark, #111827); }

/* Responsive mini card */
@media (max-width: 768px) {
  .totals-card { flex-direction: column; align-items: flex-start; }
  .tot-item { min-width: auto; }
}
